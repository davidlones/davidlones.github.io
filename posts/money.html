<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Civilization Capacity Map — Live Math</title>

<style>
:root{
  --bg:#090f18;
  --bg-soft:#101a2a;
  --panel:#111c2d;
  --panel-soft:#16243a;
  --text:#eef4ff;
  --muted:#a7b8d7;
  --border:#2d4565;

  --phys:#7cd4ff;
  --health:#7cffb6;
  --edu:#ffd38f;
  --social:#ffb86b;
  --drag:#ff6b6b;
  --accent:#7cd4ff;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 0%, #1c2b42 0%, transparent 30%),
    radial-gradient(circle at 80% 20%, #152842 0%, transparent 35%),
    linear-gradient(180deg, var(--bg-soft), var(--bg));
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  line-height:1.55;
}

main{
  width:min(1320px, 100%);
  margin:0 auto;
  padding:26px;
}

.hero{
  margin-bottom:20px;
}

.hero h1{
  margin:0 0 8px;
  font-size:clamp(1.65rem, 2.3vw, 2.25rem);
  letter-spacing:.2px;
}

.hero p{
  margin:0;
  color:var(--muted);
  max-width:76ch;
}

.grid{
  display:grid;
  grid-template-columns:minmax(0,1.4fr) minmax(0,.9fr) minmax(0,.95fr);
  gap:18px;
}

.card{
  background:linear-gradient(180deg, #15233a, #101828);
  border:1px solid rgba(124,212,255,.18);
  border-radius:16px;
  padding:18px;
  box-shadow:0 18px 40px rgba(0,0,0,.35);
}

.card h2,
.card h3{
  margin:0 0 14px;
  letter-spacing:.2px;
}

.control-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}

.control-head span{
  color:var(--muted);
  font-size:.95rem;
}

input[type="range"]{
  width:100%;
  margin:14px 0 18px;
  accent-color:var(--accent);
}

.row{
  margin-bottom:12px;
}

.row:last-child{
  margin-bottom:0;
}

.row-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  color:var(--muted);
  font-size:.88rem;
}

.bar{
  height:30px;
  border-radius:10px;
  background:#1b2a42;
  border:1px solid #253854;
  overflow:hidden;
}

.fill{
  height:100%;
  min-width:0;
  display:flex;
  align-items:center;
  padding:0 10px;
  font-size:.8rem;
  color:#07121f;
  font-weight:700;
  white-space:nowrap;
}

.phys{background:linear-gradient(90deg,#6acfff,#9de3ff)}
.health{background:linear-gradient(90deg,#4bf3ac,#8cffca)}
.edu{background:linear-gradient(90deg,#ffd38f,#ffe8bd)}
.social{background:linear-gradient(90deg,#ffb86b,#ffd0a2)}
.drag{background:linear-gradient(90deg,#ff6b6b,#ff9a9a)}

.kpis{
  display:grid;
  gap:10px;
}

.kpi{
  background:var(--panel-soft);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
}

.kpi .label{
  display:block;
  color:var(--muted);
  font-size:.82rem;
  margin-bottom:4px;
}

.kpi .value{
  font-size:1.15rem;
  font-weight:650;
}

.log{
  background:#0e1726;
  border:1px solid #253854;
  border-radius:12px;
  padding:12px;
  margin-top:10px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace;
  font-size:.84rem;
  white-space:pre-wrap;
  color:#d9e7ff;
}

.caption{
  margin-top:10px;
  color:var(--muted);
  font-size:.84rem;
}

@media (max-width:1060px){
  .grid{
    grid-template-columns:1fr;
  }
}
</style>
</head>
<body>
<main>
  <section class="hero">
    <h1>Civilization Capacity Map</h1>
    <p>
      A live model of how the same spending pool creates different outcomes depending on routing.
      Move the slider to shift allocation between direct system-building and indirect channels.
    </p>
  </section>

  <section class="grid">
    <article class="card">
      <div class="control-head">
        <h2>Foundational Systems Capacity</h2>
        <span id="directPct">55% direct routing</span>
      </div>

      <label for="direct">Direct capacity routing (%)</label>
      <input type="range" id="direct" min="20" max="90" value="55"/>

      <div class="row">
        <div class="row-head"><span>Physical infrastructure</span><span id="physVal"></span></div>
        <div class="bar"><div id="phys" class="fill phys"></div></div>
      </div>
      <div class="row">
        <div class="row-head"><span>Health capacity</span><span id="healthVal"></span></div>
        <div class="bar"><div id="healthCap" class="fill health"></div></div>
      </div>
      <div class="row">
        <div class="row-head"><span>Education capacity</span><span id="eduVal"></span></div>
        <div class="bar"><div id="edu" class="fill edu"></div></div>
      </div>
      <div class="row">
        <div class="row-head"><span>Stabilization capacity</span><span id="socialVal"></span></div>
        <div class="bar"><div id="socialCap" class="fill social"></div></div>
      </div>
      <div class="row">
        <div class="row-head"><span>System drag</span><span id="dragVal"></span></div>
        <div class="bar"><div id="drag" class="fill drag"></div></div>
      </div>
      <p class="caption">All values shown in trillions (T). Bar lengths represent relative scale in the current routing mix.</p>
    </article>

    <article class="card">
      <h2>Totals</h2>
      <div class="kpis">
        <div class="kpi"><span class="label">Total pool</span><div class="value" id="pool"></div></div>
        <div class="kpi"><span class="label">Direct capacity</span><div class="value" id="directAmt"></div></div>
        <div class="kpi"><span class="label">Indirect routed</span><div class="value" id="indirectAmt"></div></div>
        <div class="kpi"><span class="label">Total capacity produced</span><div class="value" id="capacityTotal"></div></div>
      </div>
    </article>

    <article class="card">
      <h3>Live Math</h3>
      <div id="log" class="log"></div>
    </article>
  </section>
</main>

<script>
const pool=8.5; // trillions
const slider=document.getElementById("direct");

function update(){
  const d=slider.value/100;

  const directAmt=pool*d;
  const indirect=pool-directAmt;
  const drag=indirect*0.25;

  const phys=directAmt*0.2;
  const health=directAmt*0.35;
  const edu=directAmt*0.18;
  const social=directAmt*0.27;

  const capacityTotal=directAmt+(indirect-drag);

  set("phys","physVal",phys);
  set("healthCap","healthVal",health);
  set("edu","eduVal",edu);
  set("socialCap","socialVal",social);
  set("drag","dragVal",drag);

  document.getElementById("directPct").innerText=`${slider.value}% direct routing`;
  document.getElementById("pool").innerText=`$${pool.toFixed(2)}T`;
  document.getElementById("directAmt").innerText=`$${directAmt.toFixed(2)}T`;
  document.getElementById("indirectAmt").innerText=`$${indirect.toFixed(2)}T`;
  document.getElementById("capacityTotal").innerText=`$${capacityTotal.toFixed(2)}T`;

  log(d,directAmt,indirect,drag,capacityTotal);
}

function set(id,valueId,val){
  const el=document.getElementById(id);
  const valueEl=document.getElementById(valueId);
  el.style.width=(val*18)+"%";
  el.innerText=`$${val.toFixed(2)}T`;
  valueEl.innerText=`$${val.toFixed(2)}T`;
}

function log(d,direct,indirect,drag,cap){
  document.getElementById("log").innerText=
`Pool = ${pool.toFixed(2)}T

Direct routing = Pool × ${d.toFixed(2)}
→ ${direct.toFixed(2)}T

Indirect routing = ${indirect.toFixed(2)}T

Drag (25% of indirect) = ${drag.toFixed(2)}T

Capacity produced =
Direct + (Indirect − Drag)
= ${cap.toFixed(2)}T

When the slider moves:
Total spending stays constant.
Only routing changes.
Output changes.`;
}

slider.oninput=update;
update();
</script>
</body>
</html>
