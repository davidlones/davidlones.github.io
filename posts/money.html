<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Money Flow Engine</title>

<style>
:root{
--bg:#06090f;
--panel:#0f1624;
--node:#1b2a3a;
--accent:#7cd4ff;
--accent2:#9cffb5;
--text:#e8f1ff;
--muted:#93a6c7;
}

body{
margin:0;
background:radial-gradient(circle at 50% 20%, #0b1420, #06090f 70%);
color:var(--text);
font-family:Inter,system-ui,Segoe UI,Roboto;
display:flex;
flex-direction:column;
align-items:center;
}

header{
padding:28px 20px 10px;
text-align:center;
}

h1{
font-weight:600;
letter-spacing:.5px;
}

#wrap{
width:100%;
max-width:1200px;
padding:20px;
display:grid;
grid-template-columns:1fr 340px;
gap:20px;
}

.card{
background:linear-gradient(180deg,#0f1624,#0c1320);
border-radius:18px;
padding:18px;
box-shadow:0 20px 50px rgba(0,0,0,.55);
}

svg{
width:100%;
height:620px;
}

.node circle{
fill:var(--node);
stroke:var(--accent);
stroke-width:2;
filter:drop-shadow(0 0 10px rgba(124,212,255,.25));
transition:.25s;
cursor:pointer;
}

.node:hover circle{
stroke-width:3;
transform:scale(1.05);
}

.node text{
font-size:14px;
fill:var(--text);
pointer-events:none;
}

.flow{
fill:none;
stroke:var(--accent2);
stroke-width:3;
stroke-dasharray:10 8;
opacity:.6;
transition:.25s;
marker-end:url(#arrow);
}

.flow.active{
opacity:1;
stroke-width:5;
filter:drop-shadow(0 0 10px rgba(156,255,181,.6));
}

.side h3{
margin-top:0;
font-weight:600;
}

.metric{
font-size:13px;
color:var(--muted);
margin-top:8px;
}

#debug{
margin-top:12px;
font-size:12px;
color:var(--muted);
max-height:140px;
overflow:auto;
}
</style>

</head>

<body>

<header>
<h1>Money Flow Engine</h1>
<div class="metric">Value circulation • ownership layers • policy levers</div>
</header>

<div id="wrap">

<div class="card">

<svg viewBox="0 0 900 620">

<defs>
<marker id="arrow" markerWidth="8" markerHeight="8" refX="5" refY="3" orient="auto">
<path d="M0,0 L6,3 L0,6 Z" fill="#9cffb5"/>
</marker>
</defs>

<g class="node" data-node="Infrastructure" transform="translate(450,100)">
<circle r="85"/>
<text text-anchor="middle" dy="5">Infrastructure</text>
</g>

<g class="node" data-node="Government" transform="translate(140,320)">
<circle r="85"/>
<text text-anchor="middle" dy="5">Government</text>
</g>

<g class="node" data-node="Finance" transform="translate(450,320)">
<circle r="70"/>
<text text-anchor="middle" dy="5">Finance</text>
</g>

<g class="node" data-node="Firms" transform="translate(760,320)">
<circle r="85"/>
<text text-anchor="middle" dy="5">Firms</text>
</g>

<g class="node" data-node="Households" transform="translate(450,540)">
<circle r="85"/>
<text text-anchor="middle" dy="5">Households</text>
</g>

<path class="flow" data-flow="Consumption" d="M520 520 Q720 470 760 360"/>
<path class="flow" data-flow="Wages" d="M700 320 Q560 470 500 520"/>
<path class="flow" data-flow="Investment" d="M720 260 Q560 150 470 140"/>
<path class="flow" data-flow="Taxes" d="M390 520 Q210 400 160 360"/>
<path class="flow" data-flow="Transfers" d="M160 280 Q300 460 420 520"/>
<path class="flow" data-flow="Credit" d="M450 320 Q620 320 740 320"/>
<path class="flow" data-flow="Interest" d="M450 320 Q260 320 160 320"/>

</svg>

</div>

<div class="card side">
<h3 id="title">Explore the system</h3>
<p id="desc">Click nodes or flows.</p>
<div id="debug"></div>
</div>

</div>

<script>
const nodeInfo={
Households:"People. Consumption engine. Labor supply.",
Firms:"Production layer. Converts inputs into goods/services.",
Infrastructure:"Physical substrate. Slow, expensive, foundational.",
Government:"Redistribution + stabilization layer.",
Finance:"Time-shifting layer. Credit, asset pricing."
};

const flowInfo={
Consumption:"Households → Firms (demand)",
Wages:"Firms → Households (income)",
Investment:"Firms → Infrastructure (future capacity)",
Taxes:"Economy → Government",
Transfers:"Government → Households",
Credit:"Finance → Economy",
Interest:"Economy → Finance"
};

const title=document.getElementById("title");
const desc=document.getElementById("desc");
const debug=document.getElementById("debug");

function log(m){debug.innerHTML=m+"<br>"+debug.innerHTML;}

document.querySelectorAll(".node").forEach(n=>{
n.onclick=()=>{
const name=n.dataset.node;
title.textContent=name;
desc.textContent=nodeInfo[name];
log("Node: "+name);
};
});

document.querySelectorAll(".flow").forEach(f=>{
f.onclick=()=>{
document.querySelectorAll(".flow").forEach(x=>x.classList.remove("active"));
f.classList.add("active");
const name=f.dataset.flow;
title.textContent=name;
desc.textContent=flowInfo[name];
log("Flow: "+name);
};
});
</script>

</body>
</html>
