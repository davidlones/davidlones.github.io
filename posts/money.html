<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Money Flow Engine</title>

<style>
:root{
--bg:#0b0f14;
--panel:#111827;
--accent:#7cd4ff;
--accent2:#b5ff7c;
--text:#e9eef6;
--muted:#94a3b8;
}

body{
margin:0;
background:var(--bg);
color:var(--text);
font-family:system-ui,-apple-system,Segoe UI,Roboto;
display:flex;
flex-direction:column;
align-items:center;
}

header{
padding:20px;
text-align:center;
}

#wrap{
width:100%;
max-width:1100px;
padding:16px;
display:grid;
grid-template-columns:1fr 320px;
gap:16px;
}

.card{
background:var(--panel);
border-radius:14px;
padding:16px;
box-shadow:0 10px 30px rgba(0,0,0,.4);
}

svg{
width:100%;
height:560px;
}

.node circle{
fill:rgba(124,212,255,.1);
stroke:var(--accent);
stroke-width:2;
cursor:pointer;
transition:.2s;
}

.node:hover circle{
stroke-width:3;
fill:rgba(124,212,255,.25);
}

.flow{
fill:none;
stroke:var(--accent2);
stroke-width:3;
stroke-dasharray:8 6;
opacity:.8;
}

.flow.active{
stroke-width:5;
opacity:1;
}

#debug{
font-size:12px;
color:var(--muted);
margin-top:10px;
max-height:120px;
overflow:auto;
}
</style>

</head>

<body>

<header>
<h1>Money Flow Engine</h1>
<p>Circulation of value in a modern economy</p>
</header>

<div id="wrap">

<div class="card">

<svg viewBox="0 0 900 600" id="moneyFlow">

<!-- Households -->

<g class="node" data-node="Households" transform="translate(450,500)">
<circle r="80"></circle>
<text text-anchor="middle" dy="5">Households</text>
</g>

<!-- Firms -->

<g class="node" data-node="Firms" transform="translate(760,300)">
<circle r="80"></circle>
<text text-anchor="middle" dy="5">Firms</text>
</g>

<!-- Infrastructure -->

<g class="node" data-node="Infrastructure" transform="translate(450,100)">
<circle r="80"></circle>
<text text-anchor="middle" dy="5">Infrastructure</text>
</g>

<!-- Government -->

<g class="node" data-node="Government" transform="translate(140,300)">
<circle r="80"></circle>
<text text-anchor="middle" dy="5">Government</text>
</g>

<!-- Finance -->

<g class="node" data-node="Finance" transform="translate(450,300)">
<circle r="65"></circle>
<text text-anchor="middle" dy="5">Finance</text>
</g>

<!-- Flows -->

<path class="flow" data-flow="Consumption" d="M520 470 Q700 420 760 340"/>
<path class="flow" data-flow="Wages" d="M700 300 Q560 420 500 470"/>
<path class="flow" data-flow="Investment" d="M720 250 Q560 150 480 140"/>
<path class="flow" data-flow="Taxes" d="M380 460 Q220 380 160 320"/>
<path class="flow" data-flow="Transfers" d="M160 280 Q300 420 420 470"/>
<path class="flow" data-flow="Credit" d="M450 300 Q620 300 740 300"/>
<path class="flow" data-flow="Interest" d="M450 300 Q260 300 160 300"/>

</svg>

</div>

<div class="card">
<h3 id="title">Select a node</h3>
<p id="desc">Click any circle.</p>

<div id="debug"></div>
</div>

</div>

<script>
const nodeInfo={
Households:"Living engine (~17T/year consumption). Receives wages, transfers, credit.",
Firms:"Production node. Generates goods/services, pays wages, earns profit.",
Infrastructure:"Physical substrate enabling production. Slow, capital heavy.",
Government:"Routes resources via taxes, spending, stabilization.",
Finance:"Creates credit, prices assets, shifts value across time."
};

const flowInfo={
Consumption:"Households → Firms",
Wages:"Firms → Households",
Investment:"Firms → Infrastructure",
Taxes:"Households/Firms → Government",
Transfers:"Government → Households",
Credit:"Finance → Firms/Households",
Interest:"Economy → Finance"
};

const title=document.getElementById("title");
const desc=document.getElementById("desc");
const debug=document.getElementById("debug");

function log(msg){
debug.innerHTML=msg+"<br>"+debug.innerHTML;
}

document.querySelectorAll(".node").forEach(n=>{
n.addEventListener("click",()=>{
const name=n.dataset.node;
title.textContent=name;
desc.textContent=nodeInfo[name];
log("Node selected: "+name);
});
});

document.querySelectorAll(".flow").forEach(f=>{
f.addEventListener("click",()=>{
document.querySelectorAll(".flow").forEach(x=>x.classList.remove("active"));
f.classList.add("active");
const name=f.dataset.flow;
title.textContent=name;
desc.textContent=flowInfo[name];
log("Flow selected: "+name);
});
});
</script>

</body>
</html>
