<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sol-37 • Retro UI</title>
<meta name="color-scheme" content="light">

<style>
/* --------- Core Reset --------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: #008080;
  font-family: "MS Sans Serif","Segoe UI",Tahoma,Geneva,Verdana,sans-serif;
  color: #000;
  overflow: hidden;
}

/* --------- Win95 Chrome --------- */
.win95-window{
  position:absolute;
  min-width:320px;
  min-height:180px;
  background:#c0c0c0;
  border:2px solid #fff;
  border-right-color:#404040;
  border-bottom-color:#404040;
  box-shadow:inset -1px -1px 0 #000,inset 1px 1px 0 #dfdfdf;
  max-width:100vw;
  max-height:calc(100vh - 32px);
}
.titlebar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:linear-gradient(#000080,#1084d0);
  color:#fff;
  padding:2px 6px;
  font-weight:700;
  font-size:13px;
  cursor:move;
}
.titlebar .controls{display:flex;gap:4px}
.titlebar button{
  width:18px;height:18px;
  background:#c0c0c0;
  border:1px solid #000;
  box-shadow:inset 1px 1px 0 #fff,inset -1px -1px 0 #808080;
}
.content{
  padding:8px;
  background:#c0c0c0;
  height:calc(100% - 26px);
  overflow:auto;
}

/* --------- Desktop --------- */
.desktop{position:absolute;inset:0 0 32px 0;}
.desktop a.icon{
  position:absolute;
  width:88px;
  text-align:center;
  color:#fff;
  font-size:12px;
  text-decoration:none;
}
.desktop img{width:48px;height:48px;display:block;margin:0 auto 4px}

/* --------- Taskbar --------- */
.taskbar{
  position:absolute;
  left:0;right:0;bottom:0;
  height:32px;
  background:#c0c0c0;
  border-top:2px solid #fff;
  display:grid;
  grid-template-columns:108px 1fr auto;
  gap:6px;
  padding:3px 6px;
  z-index:1000;
}
.start-btn{
  display:flex;
  align-items:center;
  gap:6px;
  height:24px;
  padding:0 10px;
  background:#c0c0c0;
  border:1px solid #000;
  box-shadow:inset 1px 1px 0 #fff,inset -1px -1px 0 #808080;
  font-weight:700;
}
.task-buttons{display:flex;gap:6px}
.task-button{
  height:24px;
  padding:0 8px;
  background:#c0c0c0;
  border:1px solid #000;
  box-shadow:inset 1px 1px 0 #fff,inset -1px -1px 0 #808080;
}
.task-button.active{outline:2px solid #000080}

/* --------- Tray --------- */
.tray{
  display:flex;
  gap:10px;
  align-items:center;
}
#archive-counter{
  font-family:monospace;
  font-size:11px;
  color:#555;
}
.clock{
  background:#dfdfdf;
  border:1px solid #000;
  padding:2px 6px;
  font-size:12px;
  min-width:90px;
  text-align:center;
}

/* --------- Terminal --------- */
.terminal{
  background:#000;
  color:#0f0;
  font-family:"Lucida Console","Courier New",monospace;
  height:100%;
  display:grid;
  grid-template-rows:1fr auto;
}
.term-output{padding:8px;white-space:pre-wrap;overflow:auto}
.term-input{
  display:grid;
  grid-template-columns:auto 1fr;
  gap:6px;
  padding:6px;
  background:#111;
}
.term-input input{
  background:#000;
  color:#0f0;
  border:1px solid #0a0;
}

/* --------- Utility --------- */
.hidden{display:none!important}
.maximized{
  left:0!important;
  top:0!important;
  width:100%!important;
  height:calc(100% - 32px)!important;
}
</style>
</head>

<body>

<div class="desktop" id="desktop">
  <a class="icon" style="left:16px;top:16px" href="#" data-open="about">
    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48'><rect width='48' height='36' y='6' fill='%23c0c0c0' stroke='%23000'/><rect x='4' y='10' width='40' height='24' fill='%23000080'/></svg>">
    <span>Sol-37</span>
  </a>

  <a class="icon" style="left:16px;top:100px" href="#" data-open="terminal">
    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='48' height='48'><rect width='48' height='36' y='6' fill='%23000'/><text x='8' y='28' fill='%2300ff00' font-size='18'>&gt;_</text></svg>">
    <span>Command</span>
  </a>
</div>

<!-- About -->
<section class="win95-window hidden" id="win-about" style="left:120px;top:80px;width:520px;height:320px">
  <div class="titlebar" data-drag>
    <span>About — Sol-37</span>
    <div class="controls">
      <button data-close>✕</button>
    </div>
  </div>
  <div class="content">
    <h3>Sol-37</h3>
    <p>A Windows-95 echo of a living archive.  
    Static files. Persistent memory.  
    A record that counts itself.</p>
  </div>
</section>

<!-- Terminal -->
<section class="win95-window" id="win-terminal" style="left:240px;top:140px;width:720px;height:420px">
  <div class="titlebar" data-drag>
    <span>Command Prompt — C:\SOL37\</span>
    <div class="controls">
      <button data-close>✕</button>
    </div>
  </div>
  <div class="content terminal">
    <div class="term-output" id="term-out">Sol-37 Interactive Shell
Type 'help' to begin.
</div>
    <div class="term-input">
      <label>C:\SOL37&gt;</label>
      <input id="term-in" autocomplete="off">
    </div>
  </div>
</section>

<footer class="taskbar">
  <button class="start-btn">Start</button>
  <div class="task-buttons"></div>
  <div class="tray">
    <div id="archive-counter">
      Archive access count:
      <span class="tinylytics_hits">—</span>
    </div>
    <div class="clock" id="clock">--:--</div>
  </div>
</footer>

<!-- Tinylytics (persistent, backend-managed counter) -->
<script defer src="https://tinylytics.app/embed/BLs8Pz1x77uyP9Ps6uFS.js?hits"></script>

<script>
(() => {
  const $ = s => document.querySelector(s);
  const $$ = s => [...document.querySelectorAll(s)];

  function bringToFront(w){
    const z = Math.max(...$$('.win95-window').map(e=>+e.style.zIndex||100));
    w.style.zIndex = z + 1;
  }

  $$('[data-open]').forEach(icon=>{
    icon.onclick = e=>{
      e.preventDefault();
      const w = $('#win-'+icon.dataset.open);
      w.classList.remove('hidden');
      bringToFront(w);
    };
  });

  $$('[data-close]').forEach(btn=>{
    btn.onclick = ()=>btn.closest('.win95-window').classList.add('hidden');
  });

  function updateClock(){
    const d = new Date();
    $('#clock').textContent =
      d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
  }
  updateClock();
  setInterval(updateClock,15000);

  const input = $('#term-in');
  const out = $('#term-out');

  input.addEventListener('keydown',e=>{
    if(e.key==='Enter'){
      const cmd=input.value.trim();
      out.textContent+=`\nC:\\SOL37> ${cmd}`;
      if(cmd==='help'){
        out.textContent+=`\nhelp  about  date  clear`;
      }
      if(cmd==='date'){
        out.textContent+=`\n${new Date()}`;
      }
      if(cmd==='clear'){
        out.textContent='';
      }
      input.value='';
      out.scrollTop=out.scrollHeight;
    }
  });
})();
</script>

</body>
</html>
