<!DOCTYPE html>
<html>
    TEST
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Slabo+13px&display=swap');
        /* import for https://fonts.google.com/specimen/Montserrat?category=Serif,Sans+Serif,Display,Monospace at 400*/
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap');

        body {
            background-color: #2B2E33;
            color: #BFC2C7;
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            padding: 10px;
            margin: 0 auto;
            max-width: 80ch;
        }

        h1, h2 {
            font-family: 'Montserrat', sans-serif;
        }

        h1 {
            color: #778DA9;
            text-align: center;
            padding: 15px;
            border-bottom: 2px solid #778DA9;
            margin-bottom: 20px;
        }

        p {
            margin: 10px 0;
        }

        h2 {
            cursor: pointer;
            transition: 0.3s;
            font-size: 1.2em;
            border-bottom: 1px solid #778DA9;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        h2:hover {
            color: #778DA9;
        }

        .service {
            margin-bottom: 20px;
            border: 1px solid #778DA9;
            border-radius: 10px;
            padding: 15px;
            transition: 0.3s;
            background: #32363C;
        }

        .service:hover {
            box-shadow: 0 8px 16px 0 rgba(119,141,169,0.2);
        }

        .description {
            margin-top: 5px;
            transition: max-height 0.2s;
            overflow: hidden;
            max-height: 0;
        }

        .show {
            max-height: 200px;
        }

        a {
            color: #778DA9;
        }

        .contact-info {
            text-align: left; 
            margin-top: 30px; 
            padding: 15px; 
            border-top: 2px solid #778DA9;
        }

        .letter-container {
            position: relative;
            height: 250px;
            margin-bottom: 20px;
            padding: 10px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            border-bottom-left-radius: 0;  /* straighten bottom left corner */
            border-bottom-right-radius: 0;  /* straighten bottom right corner */
            border: none;
            overflow: hidden;
            background-color: transparent;
        }

        .letter-content {
            position: relative;
            overflow-y: scroll;
            max-height: 100%;
            scrollbar-width: thin;
            scrollbar-color: transparent transparent;
        }

        .letter-content::-webkit-scrollbar {
            display: none;
        }

        .letter-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background-image: linear-gradient(to top, #2B2E33, transparent);
            pointer-events: none;
        }

        .under-construction-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #FF0000;
            color: #FFFFFF;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 18px;
            display: block; /* Changed from 'none' to 'block' */
        }
        
        .letter-wrapper {
            position: relative;
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: -13px; /* adjust this value as needed */
            width: 100%;
            text-align: center;
            color: #BFC2C7; /* adjust color as needed */
            background-image: linear-gradient(to top, #2B2E33, transparent);
        }            

        /* Styles for the chat interface */
        .chat-container {
            background-color: #32363C;
            max-width: 80ch; /* adjust this to match the width of your service blocks */
            height: auto; /* adjust this to control the height, or use a specific value like '500px' */
            margin: 0 auto;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .chat-message {
            background-color: #778DA9;
            color: #FFFFFF;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            width: fit-content;
            max-width: 80%;
        }

        .chat-message.user {
            align-self: flex-end;
            background-color: #BFC2C7;
            color: #2B2E33;
        }

        .chat-message.assistant {
            align-self: flex-start;
        }

        .chat-input {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex-grow: 1;
            border-radius: 10px;
            padding: 10px;
        }

        .chat-input button {
            background-color: #778DA9;
            color: #FFFFFF;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .chat-input button:hover {
            background-color: #BFC2C7;
        }

        .service, .chat-container {
            margin-bottom: 30px; /* consistent spacing between sections */
        }

        .letter-container {
            border-radius: 10px; /* uniform border radius */
        }

        h2 {
            font-size: 1.5em; /* increased font size for better readability */
        }

        h2:hover {
            color: #BFC2C7; /* more subtle hover effect */
        }

        body {
            color: #FFFFFF; /* lighter text color for better readability */
        }

    </style>
</head>
<body>
    <div id="content">
        <h1>Welcome, I'm David Lones,<br>Your Personal Technology Liaison</h1>
        <div id="underConstructionBanner" class="under-construction-banner">
            Site Under Construction. This is a temporary page.
            <button onclick="disableUnderConstructionBanner()">Disable</button>
        </div>

        <script>
            function disableUnderConstructionBanner() {
                var banner = document.getElementById("underConstructionBanner");
                banner.style.display = "none";
            }

            function sendMessage() {
                var name = document.getElementById('name-input').value;
                var contact = document.getElementById('contact-input').value;
                var message = document.getElementById('chat-input').value;
                var formattedMessage = `Name: ${name}\nContact: ${contact}\nMessage: ${message}`;
        
                var chatMessages = document.getElementById('chat-messages');
                var userMessage = document.createElement('div');
                userMessage.className = 'chat-message user';
                userMessage.innerText = formattedMessage;
                chatMessages.appendChild(userMessage);
        
                document.getElementById('name-input').value = '';
                document.getElementById('contact-input').value = '';
                document.getElementById('chat-input').value = '';
        
                fetch('http://dl.system42.one:8042/api', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({message: formattedMessage})
                })
                .then(response => response.json())
                .then(data => {
                    var assistantMessage = document.createElement('div');
                    assistantMessage.className = 'chat-message assistant';
                    assistantMessage.innerText = data.message;
                    chatMessages.appendChild(assistantMessage);
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
            }
        </script>

        <div class="service">
            <h2 onclick="toggle('desc1')">General Tech Support</h2>
            <div id="desc1" class="description">
                <p>Includes troubleshooting common tech issues, software installation and updates, and hardware setup.</p>
                <p>Basic Support: $100/month per user</p>
                <p>Advanced Support: $170/month per user, includes network setup and troubleshooting, and priority response time.</p>
                <p><a href="mailto:davidlones365@protonmail.com">Contact us</a> to request General Tech Support.</p>
            </div>
        </div>

        <div class="service">
            <h2 onclick="toggle('desc2')">AI Assistance</h2>
            <div id="desc2" class="description">
                <p>Includes use of AI for basic data analysis and task automation.</p>
                <p>Basic AI Assistance: $150/month</p>
                <p>Advanced AI Assistance: $250/month, includes more complex data analysis, custom AI solutions, and priority response time.</p>
                <p><a href="mailto:davidlones365@protonmail.com">Contact us</a> to request AI Assistance.</p>
            </div>
        </div>

        <div class="service">
            <h2 onclick="toggle('desc3')">Scripting and Automation</h2>
            <div id="desc3" class="description">
                <p>Includes writing simple scripts for task automation and system integration.</p>
                <p>Basic Scripting: $120/hour</p>
                <p>Advanced Scripting: $170/hour, includes writing complex scripts, creating custom automation solutions, and priority response time.</p>
                <p><a href="mailto:davidlones365@protonmail.com">Contact us</a> to request Scripting and Automation services.</p>
            </div>
        </div>

        <div class="service">
            <h2 onclick="toggle('desc4')">Education and Training</h2>
            <div id="desc4" class="description">
                <p>Includes teaching how to use common tech tools and basic digital literacy.</p>
                <p>Basic Training: $60/hour</p>
                <p>Advanced Training: $110/hour, includes training on advanced topics, personalized training plans, and priority scheduling.</p>
                <p><a href="mailto:davidlones365@protonmail.com">Contact us</a> to request Education and Training services.</p>
            </div>
        </div>

        <div class="service">
            <h2 onclick="toggle('desc5')">Data Privacy Consulting</h2>
            <div id="desc5" class="description">
                <p>Includes advice on basic data privacy practices and compliance with common regulations.</p>
                <p>Basic Consulting: $170/hour</p>
                <p>Advanced Consulting: $220/hour, includes in-depth data privacy analysis, custom data privacy solutions, and priority response time.</p>
                <p><a href="mailto:davidlones365@protonmail.com">Contact us</a> to request Data Privacy Consulting.</p>
            </div>
        </div>

        <div class="contact-info">
            <p>Ready to take the next step? Let's start the conversation.<br>
                To initiate a support request, please send an email to <a href="mailto:davidlones365@protonmail.com">davidlones365@protonmail.com</a><br>
                or send a message below.</p>
        </div>

        <div class="chat-container">
            <div id="chat-messages" style="display: flex; flex-direction: column; gap: 10px;"></div>
            <div class="chat-input" style="flex-direction: column;">
                <input type="text" id="name-input" placeholder="Name">
                <input type="text" id="contact-input" placeholder="Enter your preferred contact info">
                <textarea id="chat-input" placeholder="Type your message here. Include as much detail as possible." rows="10"></textarea>
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>

    </div>

    <script>
        function toggle(id) {
            var element = document.getElementById(id);
            if (element.classList.contains('show')) {
                element.classList.remove('show');
            } else {
                element.classList.add('show');
            }
        }
    </script>
</body>
</html>